<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="720" viewBox="0 0 800 720">
  <defs>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-opacity="0.3"/>
    </filter>
    <!-- Gradient for input data -->
    <linearGradient id="inputGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#e9f5ff"/>
      <stop offset="100%" stop-color="#c0e0ff"/>
    </linearGradient>
    <!-- Gradient for processing steps -->
    <linearGradient id="processGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#f0f8f0"/>
      <stop offset="100%" stop-color="#d0e8d0"/>
    </linearGradient>
    <!-- Gradient for analysis steps -->
    <linearGradient id="analysisGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#fff6e9"/>
      <stop offset="100%" stop-color="#ffe0c0"/>
    </linearGradient>
    <!-- Gradient for output metrics -->
    <linearGradient id="outputGradient" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#f9f0f8"/>
      <stop offset="100%" stop-color="#e8d0e8"/>
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="400" y="35" font-family="Arial, sans-serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#333">Urban Density Gradient Analysis Methodology Pipeline</text>

  <!-- Input Data Box -->
  <g transform="translate(300, 70)">
    <rect x="-150" y="0" width="300" height="80" rx="8" ry="8" fill="url(#inputGradient)" stroke="#4080c0" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="30" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Input Data</text>
    <text x="0" y="55" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Optical Imagery + SAR Data</text>
  </g>
  
  <!-- Arrow 1 -->
  <g transform="translate(300, 150)">
    <path d="M0,-10 L0,10" stroke="#666" stroke-width="2" />
    <path d="M-4,6 L0,10 L4,6" stroke="#666" stroke-width="2" fill="none" />
  </g>

  <!-- Preprocessing Box -->
  <g transform="translate(300, 180)">
    <rect x="-200" y="0" width="400" height="100" rx="8" ry="8" fill="url(#processGradient)" stroke="#388e3c" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Preprocessing</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">1. Edge Detection (Sobel) on Optical Image</text>
    <text x="0" y="70" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">2. Edge Density Map Generation</text>
    <text x="0" y="90" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">3. SAR Image Normalization</text>
  </g>

  <!-- Arrow 2 -->
  <g transform="translate(300, 280)">
    <path d="M0,-10 L0,10" stroke="#666" stroke-width="2" />
    <path d="M-4,6 L0,10 L4,6" stroke="#666" stroke-width="2" fill="none" />
  </g>

  <!-- Data Fusion Box -->
  <g transform="translate(300, 310)">
    <rect x="-200" y="0" width="400" height="80" rx="8" ry="8" fill="url(#processGradient)" stroke="#388e3c" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Multi-modal Data Fusion</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">1. Combine Optical Edge Density + SAR Data</text>
    <text x="0" y="70" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">2. Non-Local Means Denoising</text>
  </g>

  <!-- Arrow 3 -->
  <g transform="translate(300, 390)">
    <path d="M0,-10 L0,10" stroke="#666" stroke-width="2" />
    <path d="M-4,6 L0,10 L4,6" stroke="#666" stroke-width="2" fill="none" />
  </g>

  <!-- Segmentation Box -->
  <g transform="translate(300, 420)">
    <rect x="-200" y="0" width="400" height="100" rx="8" ry="8" fill="url(#processGradient)" stroke="#388e3c" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Urban Area Segmentation</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">1. Threshold-Based Classification</text>
    <text x="0" y="70" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">2. Morphological Operations</text>
    <text x="0" y="90" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">3. Urban Center Identification</text>
  </g>

  <!-- Arrow 4 -->
  <g transform="translate(300, 520)">
    <path d="M0,-10 L0,10" stroke="#666" stroke-width="2" />
    <path d="M-4,6 L0,10 L4,6" stroke="#666" stroke-width="2" fill="none" />
  </g>

  <!-- Analysis Box -->
  <g transform="translate(300, 550)">
    <rect x="-200" y="0" width="400" height="80" rx="8" ry="8" fill="url(#analysisGradient)" stroke="#f57c00" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Density Gradient Analysis</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">1. Distance Transform from Urban Centers</text>
    <text x="0" y="70" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">2. Distance-Based Density Binning</text>
  </g>

  <!-- Arrow 5 -->
  <g transform="translate(300, 630)">
    <path d="M0,-10 L0,10" stroke="#666" stroke-width="2" />
    <path d="M-4,6 L0,10 L4,6" stroke="#666" stroke-width="2" fill="none" />
  </g>

  <!-- Output Metrics Box -->
  <g transform="translate(300, 680)">
    <rect x="-340" y="0" width="680" height="70" rx="8" ry="8" fill="url(#outputGradient)" stroke="#9c27b0" stroke-width="2" filter="url(#shadow)"/>
    <text x="0" y="25" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#333">Output Metrics</text>
    <text x="-180" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Density Gradient Coefficient (Î±)</text>
    <text x="0" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Minimum Effective Distance (LD)</text>
    <text x="180" y="50" font-family="Arial, sans-serif" font-size="14" text-anchor="middle" fill="#333">Urban Morphology Classification</text>
  </g>
</svg>
